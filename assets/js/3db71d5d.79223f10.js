"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[330],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return m}});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=u(a),m=i,h=d["".concat(s,".").concat(m)]||d[m]||c[m]||o;return a?n.createElement(h,r(r({ref:t},p),{},{components:a})):n.createElement(h,r({ref:t},p))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=a.length,r=new Array(o);r[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var u=2;u<o;u++)r[u]=a[u];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},7710:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return p},default:function(){return d}});var n=a(7462),i=a(3366),o=(a(7294),a(3905)),r=["components"],l={},s="How to build a docs website",u={unversionedId:"tutorial-basics/How to build a docs website",id:"tutorial-basics/How to build a docs website",isDocsHomePage:!1,title:"How to build a docs website",description:"Pre-requisites",source:"@site/docs/tutorial-basics/How to build a docs website.md",sourceDirName:"tutorial-basics",slug:"/tutorial-basics/How to build a docs website",permalink:"/docs/docs/tutorial-basics/How to build a docs website",editUrl:"https://github.com/visuallabskft/docs/docs/tutorial-basics/How to build a docs website.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Congratulations!",permalink:"/docs/docs/tutorial-basics/congratulations"},next:{title:"Manage Docs Versions",permalink:"/docs/docs/tutorial-extras/manage-docs-versions"}},p=[{value:"Pre-requisites",id:"pre-requisites",children:[{value:"Dev tools",id:"dev-tools",children:[]},{value:"Things to think about",id:"things-to-think-about",children:[]}]},{value:"Part 1 - Create a scaffold site locally",id:"part-1---create-a-scaffold-site-locally",children:[]},{value:"Part 2 - Build out the GitHub repo and Deployment infrastructure, publish the Scaffold site",id:"part-2---build-out-the-github-repo-and-deployment-infrastructure-publish-the-scaffold-site",children:[]},{value:"Start personalising your site",id:"start-personalising-your-site",children:[]},{value:"Start creating content",id:"start-creating-content",children:[]}],c={toc:p};function d(e){var t=e.components,a=(0,i.Z)(e,r);return(0,o.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"how-to-build-a-docs-website"},"How to build a docs website"),(0,o.kt)("h2",{id:"pre-requisites"},"Pre-requisites"),(0,o.kt)("h3",{id:"dev-tools"},"Dev tools"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Install Visual Studio Code or any other coding tool.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Install node.js with NPM.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Install Yarn.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Install git.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Have a GitHub account.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Install PowerToys or any other tool with a colour picker.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Create an Azure DevOps Project for the pipeline deployment"))),(0,o.kt)("h3",{id:"things-to-think-about"},"Things to think about"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Select an Icon.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Select a colour (RGB and HEX codes).")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Choose the name of the site.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Build the site structure on a spreadsheet or somewhere."))),(0,o.kt)("h2",{id:"part-1---create-a-scaffold-site-locally"},"Part 1 - Create a scaffold site locally"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Create a folder on your computer where the files will be stored."),(0,o.kt)("li",{parentName:"ol"},"Create a github project where the files will be pushed."),(0,o.kt)("li",{parentName:"ol"},"Open the folder in Visul Studio Code and create the site with the following command:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npx @docusaurus/init@latest init [name] [template]\n")),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"npx @docusaurus/init@latest init my-website classic\n")),(0,o.kt)("p",null,"For further instructions, please see the ",(0,o.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/installation"},"docusarus site about the installation"),"."),(0,o.kt)("p",null,"This will create the barebones of the site (the so-called scaffold site), but you'll still need to run a few commands before the site can be hosted on the your local PC:"),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Run a few commands:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"In the command prompt (or PowerShell) change directory to your newly created folder by typing:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"cd my-website\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Install yarn here, by the following command (this might no be necessary):")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"yarn install\n")),(0,o.kt)("ol",{start:5},(0,o.kt)("li",{parentName:"ol"},"Now you should be able to start the website locally:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"yarn run start\n")),(0,o.kt)("p",null,"After this command runs, a browser window will pop up opening localhost:3000, the site will be running here until stopped."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"note: need to find command, how to stop service")),(0,o.kt)("p",null,"For an explanation of how the folder structure is built up, again, see ",(0,o.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/installation"},"docusarus site about the installation"),"."),(0,o.kt)("h2",{id:"part-2---build-out-the-github-repo-and-deployment-infrastructure-publish-the-scaffold-site"},"Part 2 - Build out the GitHub repo and Deployment infrastructure, publish the Scaffold site"),(0,o.kt)("p",null,"Before you start modifying the site too much, I'd recommend to publish it to github and build out the Azure DevOps pipeline, just in case some things go wrond with the 'infra', you don't need to re-start the whole project. Also, it will be a good practise with the git commands to make all minor modifications."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Publish to GitHub - initial commit")),(0,o.kt)("p",null,"We have a folder with a bunch of files that make up a website. We need to push all of these files into GitHub."),(0,o.kt)("p",null,"Jus to check if git is up and running, this should return the version number"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"git --version\n")),(0,o.kt)("p",null,'Before we can push these files up to GitHub, (1) we must initialise the folder to be tracked by git and start a local repository ("init") and (2) add all the files into it ("add ."), (3) commit the files with a message ("commit -m "initial commit") ',(0,o.kt)("strong",{parentName:"p"},"note: these are three separate commands, hit enter after each line")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},'git init\n\ngit add .\n\ngit commit -m "initial commit"\n')),(0,o.kt)("p",null,"After this, git is ready to push all the files, into the GitHub project."),(0,o.kt)("p",null,"Open your GitHub project, that needs to have been created by now and copy the code from ",(0,o.kt)("em",{parentName:"p"},'"\u2026or push an existing repository from the command line"'),":\n",(0,o.kt)("strong",{parentName:"p"},"note: this is a single command, copy-paste and hit enter once")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-powershell"},"git remote add origin https://github.com/USERNAME/PROJECTNAME.git\ngit branch -M main\ngit push -u origin main\n")),(0,o.kt)("p",null,'After the command ran, refresh the GitHub project and validate that the files appeared with a comment "initial commit"'),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Publish a new modification to GitHub - commit")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Modify the docusaurus.config.js file's URL and BaseURL parameter to your ","[GitHub username]",'.github.io, "/docs/"'),(0,o.kt)("li",{parentName:"ul"},"Modify the OrganizationName and Project name to the GitHub name and Project name"),(0,o.kt)("li",{parentName:"ul"},"Change onBrokenLinks to warn")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-PowerShell"},'git add docusaurus.config.js\n\ngit commit -m "modified parameters"\n\ngit push\n')),(0,o.kt)("p",null,"Validate that a new commit appeared in Github's main branch"),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Create Azure DevOps Pipeline")),(0,o.kt)("p",null,"The ",(0,o.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/deployment#using-azure-pipelines"},"Docusaurus deployment guide")," is pretty helpful on how to set up an ADO pipeline:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},'"Go to ',(0,o.kt)("a",{parentName:"li",href:"https://github.com/settings/tokens"},"https://github.com/settings/tokens")," and generate a new personal access token with the repo scope."),(0,o.kt)("li",{parentName:"ul"},"In the project page (which looks like ",(0,o.kt)("a",{parentName:"li",href:"https://dev.azure.com/ORG_NAME/REPO_NAME/_build"},"https://dev.azure.com/ORG_NAME/REPO_NAME/_build"),' create a new pipeline with the following text. Also, click on edit and add a new environment variable named GH_TOKEN with your newly generated token as its value, then GH_EMAIL (your email address) and GH_NAME (your GitHub username)."'),(0,o.kt)("li",{parentName:"ul"},"When you create the Pipeline in DevOps, it will ask you to install GitHub on DevOps, just click OK and next."),(0,o.kt)("li",{parentName:"ul"},"Select node.js on the Configuration wizard."),(0,o.kt)("li",{parentName:"ul"},"Copy-paste the YAML script below (with modified TOKEN, E-mail and GitHubName) and click 'Save and Run', the system will ask if you want any futher commit message."),(0,o.kt)("li",{parentName:"ul"},"Click save and run again and a new commit will be pushed.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-YAML"},"trigger:\n - main\n\npool:\n vmImage: 'ubuntu-latest'\n\nsteps:\n - checkout: self\n   persistCredentials: true\n\n - task: NodeTool@0\n   inputs:\n     versionSpec: '12.x'\n   displayName: 'Install Node.js'\n\n - script: |\n     git config --global user.name \"${GH_NAME}\"\n     git config --global user.email \"${GH_EMAIL}\"\n     git checkout -b main\n     echo \"machine github.com login ${GH_NAME} password ${GH_TOKEN}\" > ~/.netrc\n     yarn && GIT_USER=\"${GH_NAME}\" yarn deploy\n   env:\n     GH_NAME: $(GH_NAME)\n     GH_EMAIL: $(GH_EMAIL)\n     GH_TOKEN: $(GH_TOKEN)\n   displayName: 'yarn install and build'\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"This will queue the job and you can monitor the run."),(0,o.kt)("li",{parentName:"ul"},"aaaaand.... this is where we get the following error message:")),(0,o.kt)("hr",null),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Publish the Scaffold site on GitHub Pages through Azure DevOps"),(0,o.kt)("li",{parentName:"ol"},"Publish a modification from the your PC to GitHub and have that automatically build the website")),(0,o.kt)("h2",{id:"start-personalising-your-site"},"Start personalising your site"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Modify landing page"),(0,o.kt)("li",{parentName:"ol"},"Modify appearance"),(0,o.kt)("li",{parentName:"ol"},"Create menu structure")),(0,o.kt)("h2",{id:"start-creating-content"},"Start creating content"))}d.isMDXComponent=!0}}]);